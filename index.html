<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MIFT USER PROFILE - ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุงูุนุงูููู ูุงูุนูุฏ ุงูุดุฎุตูุฉ</title>
  
  <!-- ุฎุท ุงุญุชุฑุงูู ูู Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;900&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="app-container">

    <!-- ============================
         AUTH SECTION (Login/Register)
    ============================ -->
    <section id="authSection" class="auth-wrapper">
      <div class="card">
        <div class="logo-center">
          <img src="logo.png" alt="Logo" class="auth-logo">
          <h2 class="auth-title">ูุฒุงุฑุฉ ุงูุงุณุชุซูุงุฑ ูุงูุชุฌุงุฑุฉ ุงูุฎุงุฑุฌูุฉ</h2>
          <h3 class="auth-subtitle">ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุงูุนุงูููู ูุงูุนูุฏ ุงูุดุฎุตูุฉ</h3>
          <p class="auth-subtitle-en">MIFT USER PROFILE</p>
        </div>

        <div class="tabs">
          <button id="btnLoginTab" class="tab-button active">ุชุณุฌูู ุงูุฏุฎูู</button>
          <button id="btnRegisterTab" class="tab-button">ุฅูุดุงุก ุญุณุงุจ</button>
        </div>

        <!-- Login -->
        <div id="loginFormBox" class="tab-content active">
          <div class="form-group">
            <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
            <input type="email" id="loginEmail" placeholder="example@mift.gov.eg">
          </div>
          <div class="form-group">
            <label>ูููุฉ ุงููุฑูุฑ</label>
            <input type="password" id="loginPassword">
          </div>
          <button id="loginButton" class="btn primary full">ุฏุฎูู</button>
        </div>

        <!-- Register -->
        <div id="registerFormBox" class="tab-content">
          <div class="form-group">
            <label>ุงูุงุณู ุงููุงูู</label>
            <input type="text" id="registerName">
          </div>
          <div class="form-group">
            <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
            <input type="email" id="registerEmail">
          </div>
          <div class="form-group">
            <label>ูููุฉ ุงููุฑูุฑ</label>
            <input type="password" id="registerPassword">
          </div>
          <div class="form-group">
            <label>ุงูุฏูุฑ</label>
            <select id="registerRole">
              <option value="user">ูุณุชุฎุฏู</option>
              <option value="admin">ูุฏูุฑ</option>
              <option value="store">ูุฎุงุฒู</option>
            </select>
          </div>
          <button id="registerButton" class="btn primary full">ุชุณุฌูู</button>
        </div>

        <div id="authMessage" class="message"></div>
      </div>
    </section>

    <!-- ============================
         DASHBOARD (After Login)
    ============================ -->
    <section id="dashboardSection" class="hidden">

      <!-- Header -->
      <header class="app-header">
        <div class="logo-area">
          <img src="logo.png" alt="Logo" class="app-logo">
          <div class="header-text">
            <div class="ministry-title">ูุฒุงุฑุฉ ุงูุงุณุชุซูุงุฑ ูุงูุชุฌุงุฑุฉ ุงูุฎุงุฑุฌูุฉ</div>
            <div class="system-title">ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุงูุนุงูููู ูุงูุนูุฏ ุงูุดุฎุตูุฉ</div>
            <div class="system-title-en">MIFT USER PROFILE</div>
          </div>
        </div>
        <div class="user-info-header">
          <div class="user-details">
            <div class="user-name-top" id="currentUserNameTop"></div>
            <div class="user-role-top" id="currentUserRoleTop"></div>
          </div>
          <button id="logoutButtonTop" class="btn danger small">ุฎุฑูุฌ</button>
        </div>
      </header>

      <main class="app-main">
        <div class="dashboard">

          <!-- Sidebar -->
          <aside class="sidebar">
            <nav class="nav-menu">
              <button class="nav-item" data-screen="usersAdminScreen">๐ฅ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</button>
              <button class="nav-item" data-screen="employeesScreen">๐ ุฅุฏุงุฑุฉ ุงูุนุงูููู</button>
              <button class="nav-item" data-screen="assetsScreen">๐ฆ ุงูุนูุฏ ุงูุดุฎุตูุฉ</button>
              <button class="nav-item" data-screen="searchScreen">๐ ุงูุจุญุซ</button>
              <button class="nav-item" data-screen="storesScreen">๐ข ุงููุฎุงุฒู</button>
              <button id="logoutButton" class="nav-item danger">๐ช ุฎุฑูุฌ</button>
            </nav>
          </aside>

          <!-- Content Area -->
          <div class="content">

            <!-- ============ USERS ADMIN SCREEN ============ -->
            <div id="usersAdminScreen" class="screen hidden">
              <h2>๐ฅ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h2>

              <!-- Database Backup Section -->
              <div class="inner-card">
                <h3>๐ ุชุฃููู ูุงุนุฏุฉ ุงูุจูุงูุงุช</h3>
                <p>ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ูู ุฌููุน ุงูุจูุงูุงุช</p>
                <button class="btn primary" id="backupDatabaseButton">๐ฅ ุชุญููู ูุณุฎุฉ ุงุญุชูุงุทูุฉ</button>
                <div id="backupProgress" class="message info hidden">
                  <span id="backupProgressText">ุฌุงุฑู ุชุฃููู ุงูุจูุงูุงุช...</span>
                </div>
              </div>

              <table id="usersTable">
                <thead>
                  <tr>
                    <th>ุงูุงุณู</th>
                    <th>ุงูุจุฑูุฏ</th>
                    <th>ุงูุฏูุฑ</th>
                    <th>ุงูุญุงูุฉ</th>
                    <th>ุชุบููุฑ ุงูุฏูุฑ</th>
                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>

            <!-- ============ EMPLOYEES SCREEN ============ -->
            <div id="employeesScreen" class="screen hidden">
              <h2>๐ ุฅุฏุงุฑุฉ ุงูุนุงูููู</h2>

              <!-- Add Employee Form -->
              <div class="inner-card">
                <h3>ุฅุถุงูุฉ / ุชุญุฏูุซ ููุธู</h3>
                <form id="employeeForm">
                  <div class="form-grid">
                    <div class="form-group">
                      <label>ุงูุฑูู ุงููููู *</label>
                      <input type="text" id="empNationalId" required>
                    </div>
                    <div class="form-group">
                      <label>ุงูุงุณู *</label>
                      <input type="text" id="empName" required>
                    </div>
                    <div class="form-group">
                      <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                      <input type="email" id="empEmail">
                    </div>
                    <div class="form-group">
                      <label>ุงููุธููุฉ</label>
                      <input type="text" id="empJob">
                    </div>
                    <div class="form-group">
                      <label>ุงููุทุงุน</label>
                      <input type="text" id="empSector">
                    </div>
                    <div class="form-group">
                      <label>ุงูุฅุฏุงุฑุฉ ุงููุฑูุฒูุฉ</label>
                      <input type="text" id="empCentralAdmin">
                    </div>
                    <div class="form-group">
                      <label>ุงูุฅุฏุงุฑุฉ ุงูุนุงูุฉ</label>
                      <input type="text" id="empGeneralAdmin">
                    </div>
                    <div class="form-group">
                      <label>ุงูุฅุฏุงุฑุฉ ุงููุฑุนูุฉ</label>
                      <input type="text" id="empSubAdmin">
                    </div>
                    <div class="form-group">
                      <label>ุงูุชููููู</label>
                      <input type="text" id="empPhone">
                    </div>
                    <div class="form-group">
                      <label>ุงูุนููุงู</label>
                      <input type="text" id="empLocation">
                    </div>
                  </div>
                  <button type="submit" class="btn primary">โ ุญูุธ ุงูููุธู</button>
                </form>
              </div>

              <!-- Search Employees -->
              <div class="form-group mt-1">
                <label>๐ ุจุญุซ ูู ุงูุนุงูููู</label>
                <input type="text" id="employeeSearch" class="search-input" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูู ุงููููู ุฃู ุงูุจุฑูุฏ...">
              </div>

              <!-- Employees Table -->
              <div class="table-wrapper">
                <table class="modern-table" id="employeesTable">
                  <thead>
                    <tr>
                      <th>ุงูุฑูู ุงููููู</th>
                      <th>ุงูุงุณู</th>
                      <th>ุงูุจุฑูุฏ</th>
                      <th>ุงููุธููุฉ</th>
                      <th>ุงููุทุงุน</th>
                      <th>ุงูุฅุฏุงุฑุฉ ุงููุฑูุฒูุฉ</th>
                      <th>ุงูุฅุฏุงุฑุฉ ุงูุนุงูุฉ</th>
                      <th>ุงูุฅุฏุงุฑุฉ ุงููุฑุนูุฉ</th>
                      <th>ุงูุชููููู</th>
                      <th>ุงูุนููุงู</th>
                      <th>ุงูุฅุฌุฑุงุกุงุช</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- ุณูุชู ููุก ุงูููุธููู ููุง -->
                  </tbody>
                </table>
              </div>
            </div>

            <!-- ============ ASSETS SCREEN ============ -->
            <div id="assetsScreen" class="screen hidden">
              <h2>๐ฆ ุงูุนูุฏ ุงูุดุฎุตูุฉ</h2>

              <!-- Select Employee -->
              <div class="inner-card">
                <h3>ุงุฎุชูุงุฑ ุงูููุธู</h3>
                <div class="form-group">
                  <label>ุงุฎุชุฑ ูู ุงููุงุฆูุฉ</label>
                  <select id="employeeSelect"></select>
                </div>
                <p style="text-align:center; margin:1rem 0;">ุฃู</p>
                <div class="form-grid">
                  <div class="form-group">
                    <label>ุงูุฑูู ุงููููู</label>
                    <input type="text" id="assetSearchNationalId">
                  </div>
                  <div class="form-group">
                    <label>ุงูุงุณู</label>
                    <input type="text" id="assetSearchName">
                  </div>
                  <div class="form-group full-width">
                    <label>๐ข ุงูุฑูู ุงููุณูุณู / Serial No.</label>
                    <input type="text" id="assetSearchSerial" placeholder="ุงูุชุจ ุงูุฑูู ุงููุณูุณู ููุจุญุซ ูู ุฌููุน ุงูุนูุฏ...">
                  </div>
                </div>
                <button id="assetSearchButton" class="btn primary">๐ ุจุญุซ</button>
              </div>

              <div id="selectedEmployeeInfo" class="message" style="display:none;"></div>

              <div id="assetSerialSearchResults" class="inner-card hidden" style="margin-top:1rem;">
                <h3>๐ ูุชุงุฆุฌ ุงูุจุญุซ ุจุงูุฑูู ุงููุณูุณู</h3>
                <p id="assetSerialSearchCount" style="margin:0.5rem 0; color:#6b7280;"></p>
                <div class="table-wrapper">
                  <table class="modern-table" id="assetSerialResultsTable">
                    <thead>
                      <tr>
                        <th>ุงูููุธู</th>
                        <th>ุงูุฑูู ุงููููู</th>
                        <th>ููุน ุงูุนูุฏุฉ</th>
                        <th>ุงูุชูุงุตูู</th>
                        <th>PDF</th>
                        <th>ุงูุฅุฌุฑุงุก</th>
                      </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>

              <!-- Assets Forms -->
              <div id="assetsForms" style="display:none;">

                <!-- ุดุงุดุงุช ุนุฑุถ -->
                <details class="asset-group">
                  <summary><h3>๐บ ุดุงุดุงุช ุนุฑุถ</h3></summary>
                  <form class="asset-form" data-asset-type="monitor">
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุดุงุดุฉ</label>
                      <input type="text" name="monitorSerial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <!-- ูุงุชู ููุชุจู -->
                <details class="asset-group">
                  <summary><h3>๐ ูุงุชู ููุชุจู</h3></summary>
                  <form class="asset-form" data-asset-type="desk-phone">
                    <div class="form-group">
                      <label>ููุน ูููุฏูู ุงููุงุชู</label>
                      <input type="text" name="phoneModel">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceSerial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <!-- ุฃุฌูุฒุฉ G-Dell -->
                <details class="asset-group">
                  <summary><h3>๐ป ุฃุฌูุฒุฉ G-Dell</h3></summary>
                  <form class="asset-form" data-asset-type="g-dell">
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceSerial">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุดุงุดุฉ</label>
                      <input type="text" name="monitorSerial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <!-- ุฃุฌูุฒุฉ P-HP -->
                <details class="asset-group">
                  <summary><h3>๐ป ุฃุฌูุฒุฉ P-HP</h3></summary>
                  <form class="asset-form" data-asset-type="p-hp">
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceSerial">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุดุงุดุฉ</label>
                      <input type="text" name="monitorSerial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <!-- ุฌูุงุฒ ููุจููุชุฑ ููุชุจู (PC) -->
                <details class="asset-group">
                  <summary><h3>๐ฅ๏ธ ุฌูุงุฒ ููุจููุชุฑ ููุชุจู (PC)</h3></summary>
                  <form class="asset-form" data-asset-type="desktop">
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceSerial">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุดุงุดุฉ 1</label>
                      <input type="text" name="monitor1Serial">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุดุงุดุฉ 2</label>
                      <input type="text" name="monitor2Serial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <!-- ุฌูุงุฒ ุญุงุณุจ ุขูู ูุญููู (LAPTOP) -->
                <details class="asset-group">
                  <summary><h3>๐ผ ุฌูุงุฒ ุญุงุณุจ ุขูู ูุญููู (LAPTOP)</h3></summary>
                  <form class="asset-form" data-asset-type="laptop">
                    <div class="form-group">
                      <label>ููุน ูููุฏูู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceModel">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceSerial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <!-- ุทุงุจุนุฉ -->
                <details class="asset-group">
                  <summary><h3>๐จ๏ธ ุทุงุจุนุฉ</h3></summary>
                  <form class="asset-form" data-asset-type="printer">
                    <div class="form-group">
                      <label>ููุน ูููุฏูู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceModel">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceSerial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <!-- ูุงูููุฉ ุชุตููุฑ -->
                <details class="asset-group">
                  <summary><h3>๐ ูุงูููุฉ ุชุตููุฑ</h3></summary>
                  <form class="asset-form" data-asset-type="copier">
                    <div class="form-group">
                      <label>ููุน ูููุฏูู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceModel">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceSerial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <!-- ุฃุตูู ุฃุฎุฑู -->
                <details class="asset-group">
                  <summary><h3>๐ ุฃุตูู ุฃุฎุฑู</h3></summary>
                  <form class="asset-form" data-asset-type="other">
                    <div class="form-group">
                      <label>ูุตู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceDescription">
                    </div>
                    <div class="form-group">
                      <label>ูุณูุณู ุงูุฌูุงุฒ</label>
                      <input type="text" name="deviceSerial">
                    </div>
                    <div class="form-group">
                      <label>ููุงุญุธุงุช</label>
                      <textarea name="notes"></textarea>
                    </div>
                    <div class="form-group">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF)</label>
                      <input type="file" name="pdf" accept=".pdf">
                    </div>
                    <button type="submit" class="btn success">โ ุญูุธ</button>
                  </form>
                </details>

                <button id="saveCurrentAssetButton" class="btn primary full mt-1">๐พ ุญูุธ ุงูุนูุฏุฉ ุงูุญุงููุฉ</button>

                <hr style="margin: 2rem 0;">
                
                <!-- ุฒุฑ QR Code -->
                <div style="text-align:center; margin-bottom:1rem;">
                  <button id="generateQRAssets" class="btn" style="background:#8b5cf6; color:#fff;">๐ฑ ุฅูุดุงุก QR CODE</button>
                </div>

                <!-- ุฌุฏูู ุงูุนูุฏ ุงููุณุฌูุฉ -->
                <h3>๐ ุงูุนูุฏ ุงููุณุฌูุฉ ููููุธู</h3>
                <div class="table-wrapper">
                  <table class="modern-table" id="assetsTable">
                    <thead>
                      <tr>
                        <th>ููุน ุงูุนูุฏุฉ</th>
                        <th>ุงูุชูุงุตูู</th>
                        <th>PDF</th>
                        <th>ุงูุฅุฌุฑุงุกุงุช</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- ุณูุชู ููุก ุงูุนูุฏ ููุง -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- ============ SEARCH SCREEN ============ -->
            <div id="searchScreen" class="screen hidden">
              <h2>๐ ุงูุจุญุซ ุนู ููุธู ูุนูุฏู</h2>
              <div class="inner-card">
                <div class="form-grid">
                  <div class="form-group">
                    <label>ุงูุฑูู ุงููููู</label>
                    <input type="text" id="searchNationalId">
                  </div>
                  <div class="form-group">
                    <label>ุงูุงุณู</label>
                    <input type="text" id="searchName">
                  </div>
                </div>
                <button id="searchEmployeeButton" class="btn primary">๐ ุจุญุซ</button>
              </div>

              <div id="searchResult" class="hidden">
                <div class="inner-card">
                  <h3>ุจูุงูุงุช ุงูููุธู</h3>
                  <div id="searchEmployeeInfo"></div>
                </div>
                
                <!-- ุฒุฑ QR Code ูู ุงูุจุญุซ -->
                <div style="text-align:center; margin:1rem 0;">
                  <button id="generateQRSearch" class="btn" style="background:#8b5cf6; color:#fff;">๐ฑ ุฅูุดุงุก QR CODE</button>
                </div>

                <div class="inner-card">
                  <h3>ุงูุนูุฏ ุงููุณุฌูุฉ</h3>
                  <div id="searchAssetsInfo"></div>
                </div>
              </div>
            </div>

            <!-- ============ STORES SCREEN ============ -->
            <div id="storesScreen" class="screen hidden">
              <h2>๐ข ุงููุฎุงุฒู</h2>

              <div class="inner-card">
                <h3>ุฅุถุงูุฉ ุญุฑูุฉ ูุฎุฒููุฉ</h3>
                <form id="storeForm">
                  <div class="form-grid">
                    <div class="form-group">
                      <label>ุงุณู ุงูุฌูุฉ *</label>
                      <input type="text" id="storeDeptName" required>
                    </div>
                    <div class="form-group">
                      <label>ููุน ุงููุฎุฒู *</label>
                      <select id="storeType" required>
                        <option value="">-- ุงุฎุชุฑ --</option>
                        <option value="ูุณุชุฏูู">ูุณุชุฏูู</option>
                        <option value="ูุณุชููู">ูุณุชููู</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label>ููุน ุงูุญุฑูุฉ *</label>
                      <select id="storeMovementType" required>
                        <option value="">-- ุงุฎุชุฑ --</option>
                        <option value="ููู ุนูุฏุฉ">ููู ุนูุฏุฉ</option>
                        <option value="ูุณุชูู ุงูู">ูุณุชูู ุงูู</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label>ุชุงุฑูุฎ ุงูุทูุจ *</label>
                      <input type="date" id="storeRequestDate" required>
                    </div>
                    <div class="form-group">
                      <label>ุฑูู ุงูุฅุฐู *</label>
                      <input type="text" id="storePermissionNo" required>
                    </div>
                    <div class="form-group">
                      <label>ุงุณู ุงูุทุงูุจ *</label>
                      <input type="text" id="storeRequesterName" required>
                    </div>
                    <div class="form-group">
                      <label>ุงูุฑูู ุงููููู ููุทุงูุจ *</label>
                      <input type="text" id="storeRequesterNid" required>
                    </div>
                    <div class="form-group">
                      <label>ุงุณู ุงููุณุชูู *</label>
                      <input type="text" id="storeReceiverName" required>
                    </div>
                    <div class="form-group">
                      <label>ุงูุฑูู ุงููููู ูููุณุชูู *</label>
                      <input type="text" id="storeReceiverNid" required>
                    </div>
                    <div class="form-group">
                      <label>ููุน ุงูุนูุฏุฉ *</label>
                      <select id="storeAssetCategory" required>
                        <option value="">-- ุงุฎุชุฑ --</option>
                        <option value="ุฌูุงุฒ ุญุงุณุจ ุงูู ููุชุจู">ุฌูุงุฒ ุญุงุณุจ ุงูู ููุชุจู</option>
                        <option value="ุฌูุงุฒ ุญุงุณุจ ุงูู ูุญููู">ุฌูุงุฒ ุญุงุณุจ ุงูู ูุญููู</option>
                        <option value="ุฌูุงุฒ ุงูุนุงุตูุฉ G">ุฌูุงุฒ ุงูุนุงุตูุฉ G</option>
                        <option value="ุฌูุงุฒ ุงูุนุงุตูุฉ P">ุฌูุงุฒ ุงูุนุงุตูุฉ P</option>
                        <option value="ุดุงุดุฉ ุชููุงุฒ">ุดุงุดุฉ ุชููุงุฒ</option>
                        <option value="ุงูุจุงุฏ">ุงูุจุงุฏ</option>
                        <option value="ูุงู ุจูู">ูุงู ุจูู</option>
                        <option value="ูุงุฑุฏ ุฏูุณู ุฎุงุฑุฌู">ูุงุฑุฏ ุฏูุณู ุฎุงุฑุฌู</option>
                        <option value="ููุงุดุฉ ุชุฎุฒูู">ููุงุดุฉ ุชุฎุฒูู</option>
                        <option value="ููุงุดุฉ ูุงู ูุงู">ููุงุดุฉ ูุงู ูุงู</option>
                        <option value="KVM">KVM</option>
                        <option value="ุชููููู ููุชุจู">ุชููููู ููุชุจู</option>
                        <option value="ุทุงุจุนุฉ ููุฒุฑ ุงุจูุถ ูุงุณูุฏ">ุทุงุจุนุฉ ููุฒุฑ ุงุจูุถ ูุงุณูุฏ</option>
                        <option value="ุทุงุจุนุฉ ุงููุงู">ุทุงุจุนุฉ ุงููุงู</option>
                        <option value="ูุงูุณ ููุฒุฑ">ูุงูุณ ููุฒุฑ</option>
                        <option value="ุงุฎุฑู">ุงุฎุฑู</option>
                      </select>
                    </div>
                    <div class="form-group full-width">
                      <label>ูุตู ุงูุตูู *</label>
                      <textarea id="storeDescription" required></textarea>
                    </div>
                    <div class="form-group full-width">
                      <label>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ (PDF) *</label>
                      <input type="file" id="storePdf" accept="application/pdf" required>
                    </div>
                    <div class="form-group full-width">
                      <button type="submit" class="btn success full">ุญูุธ ุงูุญุฑูุฉ ุงููุฎุฒููุฉ</button>
                    </div>
                  </div>
                </form>
              </div>

              <h3 style="margin-top: 1.5rem;">๐ ุณุฌูุงุช ุงููุฎุงุฒู</h3>
              <div class="table-wrapper">
                <table class="modern-table" id="storesTable">
                  <thead>
                    <tr>
                      <th>ุงุณู ุงูุฌูุฉ</th>
                      <th>ููุน ุงููุฎุฒู</th>
                      <th>ููุน ุงูุญุฑูุฉ</th>
                      <th>ุชุงุฑูุฎ ุงูุทูุจ</th>
                      <th>ุฑูู ุงูุฅุฐู</th>
                      <th>ุงุณู ุงูุทุงูุจ</th>
                      <th>ุฑูู ูููู ุงูุทุงูุจ</th>
                      <th>ุงุณู ุงููุณุชูู</th>
                      <th>ุฑูู ูููู ุงููุณุชูู</th>
                      <th>ููุน ุงูุนูุฏุฉ</th>
                      <th>ูุตู ุงูุตูู</th>
                      <th>ุงุณุชูุงุฑุฉ ุงูุนูุฏุฉ</th>
                      <th>ุงูุฅุฌุฑุงุกุงุช</th>
                    </tr>
                  </thead>
                  <tbody></tbody>
                </table>
              </div>
            </div>

          </div><!-- end content -->
        </div><!-- end dashboard -->
      </main>
    </section>

  </div><!-- end app-container -->

  <!-- Employee Edit Modal -->
  <div id="employeeEditModal" class="modal hidden">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3>ุชุนุฏูู ุจูุงูุงุช ุงูููุธู</h3>
        <button type="button" id="employeeEditClose" class="modal-close">&times;</button>
      </div>
      <form id="employeeEditForm">
        <div class="form-group">
          <label>ุงูุฑูู ุงููููู</label>
          <input type="text" id="editEmpNationalId" readonly>
        </div>
        <div class="form-group">
          <label>ุงูุงุณู</label>
          <input type="text" id="editEmpName" required>
        </div>
        <div class="form-group">
          <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
          <input type="email" id="editEmpEmail">
        </div>
        <div class="form-group">
          <label>ุงููุธููุฉ</label>
          <input type="text" id="editEmpJob">
        </div>
        <div class="form-group">
          <label>ุงููุทุงุน</label>
          <input type="text" id="editEmpSector">
        </div>
        <div class="form-group">
          <label>ุงูุฅุฏุงุฑุฉ ุงููุฑูุฒูุฉ</label>
          <input type="text" id="editEmpCentralAdmin">
        </div>
        <div class="form-group">
          <label>ุงูุฅุฏุงุฑุฉ ุงูุนุงูุฉ</label>
          <input type="text" id="editEmpGeneralAdmin">
        </div>
        <div class="form-group">
          <label>ุงูุฅุฏุงุฑุฉ ุงููุฑุนูุฉ</label>
          <input type="text" id="editEmpSubAdmin">
        </div>
        <div class="form-group">
          <label>ุงูุชููููู</label>
          <input type="text" id="editEmpPhone">
        </div>
        <div class="form-group">
          <label>ุงูุนููุงู</label>
          <input type="text" id="editEmpLocation">
        </div>
        <button type="submit" class="btn primary full">โ ุญูุธ ุงูุชุนุฏููุงุช</button>
      </form>
    </div>
  </div>

  <!-- Asset Edit Modal -->
  <div id="assetEditModal" class="modal hidden">
    <div class="modal-dialog">
      <div class="modal-header">
        <h3>ุชุนุฏูู ุงูุนูุฏุฉ</h3>
        <button type="button" id="assetEditClose" class="modal-close">&times;</button>
      </div>
      <form id="assetEditForm">
        <div id="assetEditFieldsContainer">
          <!-- ุณูุชู ููุก ุงูุญููู ุฏููุงููููุงู -->
        </div>
        <button type="submit" class="btn primary full">โ ุญูุธ ุงูุชุนุฏููุงุช</button>
      </form>
    </div>
  </div>

  <!-- QR Code Modal -->
  <div id="qrCodeModal" class="modal hidden">
    <div class="modal-dialog qr-dialog">
      <div class="modal-header">
        <h3>๐ฑ QR Code - ุงูุนูุฏ ุงูุดุฎุตูุฉ</h3>
        <button type="button" id="qrCodeClose" class="modal-close">&times;</button>
      </div>
      <div class="qr-content">
        <div class="qr-info">
          <h4 id="qrEmployeeName"></h4>
        </div>
        <div id="qrCodeContainer" class="qr-container"></div>
        <button id="downloadQRButton" class="btn primary full mt-1">๐ฅ ุชุญููู QR Code + PDF</button>
      </div>
    </div>
  </div>

  <!-- Firebase SDK (v9 compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
  
  <!-- html2canvas ููู PDF (ูู ุงููุตุฏุฑ ุงูุฑุณูู) -->
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  
  <!-- jsPDF (ุจุฏูู integrity) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <!-- QRCode.js (ูู unpkg - ุฃูุซุฑ ุงุณุชูุฑุงุฑ ูุจุฏูู ูุดุงูู integrity) -->
  <script src="https://unpkg.com/qrcodejs@1.0.0/qrcode.min.js"></script>

  <!-- Fallback ููุชุฃูุฏ ูู ุชุญููู QRCode -->
  <script>
  window.addEventListener('load', function() {
    setTimeout(function() {
      if (typeof QRCode === 'undefined') {
        console.warn('โ๏ธ QRCode not loaded, trying fallback...');
        const script = document.createElement('script');
        script.src = 'https://davidshimjs.github.io/qrcodejs/qrcode.min.js';
        script.onload = function() {
          console.log('โ QRCode loaded via fallback');
        };
        script.onerror = function() {
          console.error('โ Fallback also failed');
          alert('โ๏ธ ูุดู ุชุญููู ููุชุจุฉ QR Code. ุจุฑุฌุงุก ุงูุชุญูู ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช.');
        };
        document.head.appendChild(script);
      } else {
        console.log('โ QRCode loaded successfully');
      }
    }, 500);
  });
  </script>

  <script src="main.js"></script>
</body>
</html>
