<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <title>برنامج حصر العهد – MIFT USER PROFILE</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- خط عربي -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet" />

    <link href="./style.css" rel="stylesheet" />
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="logo-area">
                <img src="./logo.png" class="app-logo" alt="شعار وزارة الاستثمار والتجارة الخارجية" />
                <div class="header-text">
                    <div class="ministry-title">وزارة الاستثمار والتجارة الخارجية</div>
                    <div class="system-title">برنامج حصر العهد – MIFT USER PROFILE</div>
                </div>
            </div>
        </header>

        <main class="app-main">
            <!-- Auth Section -->
            <section id="authSection" class="auth-wrapper">
                <section class="card auth-card">
                    <div class="tabs">
                        <button class="tab-button active" data-tab="loginTab">تسجيل الدخول</button>
                        <button class="tab-button" data-tab="registerTab">إنشاء حساب جديد</button>
                    </div>

                    <div id="loginTab" class="tab-content active">
                        <form id="loginForm" class="form-grid">
                            <div class="form-group full-width">
                                <label for="loginEmail">البريد الإلكتروني</label>
                                <input id="loginEmail" type="email" required />
                            </div>
                            <div class="form-group full-width">
                                <label for="loginPassword">كلمة المرور</label>
                                <input id="loginPassword" type="password" required />
                            </div>
                            <button type="submit" class="btn primary full">دخول</button>
                        </form>
                    </div>

                    <div id="registerTab" class="tab-content">
                        <form id="registerForm" class="form-grid">
                            <div class="form-group">
                                <label for="registerName">اسم المستخدم</label>
                                <input id="registerName" type="text" required />
                            </div>
                            <div class="form-group">
                                <label for="registerEmail">البريد الإلكتروني</label>
                                <input id="registerEmail" type="email" required />
                            </div>
                            <div class="form-group">
                                <label for="registerPassword">كلمة المرور</label>
                                <input id="registerPassword" type="password" required />
                            </div>
                            <div class="form-group">
                                <label for="registerRole">نوع الحساب المطلوب</label>
                                <select id="registerRole" required>
                                    <option value="">اختر نوع الحساب</option>
                                    <option value="admin">مدير النظام</option>
                                    <option value="store">مسؤول المخازن</option>
                                    <option value="user">مستخدم</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <small class="hint">
                                    سيتم إرسال طلبك إلى مسؤول النظام للمراجعة. لن تتمكن من الدخول حتى يتم <strong>اعتماد</strong> الحساب.
                                </small>
                            </div>
                            <button type="submit" class="btn success full">تسجيل حساب جديد</button>
                        </form>
                    </div>

                    <div id="authMessage" class="message"></div>
                </section>
            </section>

            <!-- Dashboard Section -->
            <section id="dashboardSection" class="dashboard hidden">
                <aside class="sidebar">
                    <div class="user-info">
                        <div id="currentUserName" class="user-name"></div>
                        <div id="currentUserRole" class="user-role"></div>
                    </div>
                    <nav class="nav-menu">
                        <!-- شاشة إدارة المستخدمين (تظهر للمدير فقط) -->
                        <button class="nav-item" data-screen="usersAdminScreen">إدارة حسابات المستخدمين</button>

                        <button class="nav-item" data-screen="employeesScreen">بيانات العاملين</button>
                        <button class="nav-item" data-screen="assetsScreen">بيانات العهد الشخصية</button>
                        <button class="nav-item" data-screen="searchScreen">شاشة البحث</button>
                        <button class="nav-item" data-screen="storesScreen">شاشة المخازن</button>
                        <button class="nav-item danger" id="logoutButton">تسجيل الخروج</button>
                    </nav>
                </aside>

                <section class="content">
                    <!-- Users Admin Screen -->
                    <div id="usersAdminScreen" class="screen hidden">
                        <h2>إدارة حسابات المستخدمين</h2>
                        <p class="hint">يمكن لمدير النظام اعتماد أو رفض الحسابات الجديدة.</p>
                        <div class="table-container">
                            <div class="table-wrapper">
                                <table id="usersAdminTable">
                                    <thead>
                                        <tr>
                                            <th>الاسم</th>
                                            <th>البريد الإلكتروني</th>
                                            <th>الدور المطلوب</th>
                                            <th>حالة الحساب</th>
                                            <th>إجراءات</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Employees Screen -->
                    <div id="employeesScreen" class="screen hidden">
                        <h2>بيانات العاملين</h2>
                        <form id="employeeForm" class="form-grid">
                            <div class="form-group">
                                <label for="empName">اسم الموظف</label>
                                <input id="empName" required />
                            </div>
                            <div class="form-group">
                                <label for="empNationalId">الرقم القومي</label>
                                <input id="empNationalId" required />
                            </div>
                            <div class="form-group">
                                <label for="empJob">الوظيفة</label>
                                <input id="empJob" />
                            </div>
                            <div class="form-group">
                                <label for="empSector">القطاع</label>
                                <input id="empSector" />
                            </div>
                            <div class="form-group">
                                <label for="empCentralAdmin">الإدارة المركزية</label>
                                <input id="empCentralAdmin" />
                            </div>
                            <div class="form-group">
                                <label for="empGeneralAdmin">الإدارة العامة</label>
                                <input id="empGeneralAdmin" />
                            </div>
                            <div class="form-group">
                                <label for="empSubAdmin">الإدارة الفرعية (اختياري)</label>
                                <input id="empSubAdmin" />
                            </div>
                            <div class="form-group">
                                <label for="empPhone">الهاتف المحمول (اختياري)</label>
                                <input id="empPhone" />
                            </div>
                            <div class="form-group">
                                <label for="empLocation">المبنى / الغرفة (اختياري)</label>
                                <input id="empLocation" />
                            </div>
                            <button type="submit" class="btn primary">حفظ بيانات الموظف</button>
                        </form>

                        <div class="table-container">
                            <h3>قائمة الموظفين</h3>
                            <input id="employeeSearch" class="search-input" placeholder="بحث بالاسم أو الرقم القومي" />
                            <div class="table-wrapper">
                                <table id="employeesTable">
                                    <thead>
                                        <tr>
                                            <th>الاسم</th>
                                            <th>الرقم القومي</th>
                                            <th>الوظيفة</th>
                                            <th>القطاع</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Assets Screen -->
                    <div id="assetsScreen" class="screen hidden">
                        <h2>بيانات العهد الشخصية</h2>

                        <div class="card inner-card">
                            <h3>اختيار الموظف</h3>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="assetSearchNationalId">بحث بالرقم القومي</label>
                                    <input id="assetSearchNationalId" />
                                </div>
                                <div class="form-group">
                                    <label for="assetSearchName">بحث بالاسم</label>
                                    <input id="assetSearchName" />
                                </div>
                                <button id="assetSearchButton" class="btn primary">بحث عن موظف</button>
                                <div class="form-group full-width">
                                    <label for="employeeSelect">أو اختر من القائمة</label>
                                    <select id="employeeSelect">
                                        <option value="">اختر موظفًا</option>
                                    </select>
                                </div>
                            </div>
                            <div id="selectedEmployeeInfo" class="message info hidden"></div>
                        </div>

                        <div id="assetsForms" class="assets-forms hidden">
                            <!-- Desktop PC -->
                            <details class="asset-group" open>
                                <summary>جهاز حاسب آلي مكتبي (DESKTOP PC)</summary>
                                <form class="asset-form" data-asset-type="desktop">
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>نوع / موديل الجهاز</label>
                                            <input name="model" />
                                        </div>
                                        <div class="form-group">
                                            <label>رقم مسلسل الجهاز</label>
                                            <input name="serialDevice" />
                                        </div>
                                        <div class="form-group">
                                            <label>رقم مسلسل الشاشة</label>
                                            <input name="serialScreen1" />
                                        </div>
                                        <div class="form-group">
                                            <label>رقم مسلسل الشاشة (2) (اختياري)</label>
                                            <input name="serialScreen2" />
                                        </div>
                                        <div class="form-group">
                                            <label>نظام التشغيل / البرامج</label>
                                            <input name="os" />
                                        </div>
                                        <div class="form-group">
                                            <label>ملاحظات (اختياري)</label>
                                            <input name="notes" />
                                        </div>
                                        <div class="form-group">
                                            <label>صورة استمارة العهدة (PDF)</label>
                                            <input type="file" name="pdf" accept="application/pdf" />
                                        </div>
                                        <button type="submit" class="btn success">أضف جهاز</button>
                                    </div>
                                </form>
                            </details>

                            <!-- Laptop -->
                            <details class="asset-group">
                                <summary>جهاز حاسب آلي محمول (LAPTOP)</summary>
                                <form class="asset-form" data-asset-type="laptop">
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>نوع / موديل الجهاز</label>
                                            <input name="model" />
                                        </div>
                                        <div class="form-group">
                                            <label>رقم مسلسل الجهاز</label>
                                            <input name="serialDevice" />
                                        </div>
                                        <div class="form-group">
                                            <label>نظام التشغيل / البرامج</label>
                                            <input name="os" />
                                        </div>
                                        <div class="form-group">
                                            <label>ملاحظات (اختياري)</label>
                                            <input name="notes" />
                                        </div>
                                        <div class="form-group">
                                            <label>صورة استمارة العهدة (PDF)</label>
                                            <input type="file" name="pdf" accept="application/pdf" />
                                        </div>
                                        <button type="submit" class="btn success">أضف جهاز</button>
                                    </div>
                                </form>
                            </details>

                            <!-- Copier -->
                            <details class="asset-group">
                                <summary>ماكينة تصوير (COPIER)</summary>
                                <form class="asset-form" data-asset-type="copier">
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>نوع / موديل الماكينة</label>
                                            <input name="model" />
                                        </div>
                                        <div class="form-group">
                                            <label>رقم مسلسل</label>
                                            <input name="serial" />
                                        </div>
                                        <div class="form-group">
                                            <label>ملاحظات (اختياري)</label>
                                            <input name="notes" />
                                        </div>
                                        <div class="form-group">
                                            <label>صورة استمارة العهدة (PDF)</label>
                                            <input type="file" name="pdf" accept="application/pdf" />
                                        </div>
                                        <button type="submit" class="btn success">أضف ماكينة تصوير</button>
                                    </div>
                                </form>
                            </details>

                            <!-- Printer -->
                            <details class="asset-group">
                                <summary>طابعة (PRINTER)</summary>
                                <form class="asset-form" data-asset-type="printer">
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>نوع / موديل الطابعة</label>
                                            <input name="model" />
                                        </div>
                                        <div class="form-group">
                                            <label>رقم مسلسل</label>
                                            <input name="serial" />
                                        </div>
                                        <div class="form-group">
                                            <label>ملاحظات (اختياري)</label>
                                            <input name="notes" />
                                        </div>
                                        <div class="form-group">
                                            <label>صورة استمارة العهدة (PDF)</label>
                                            <input type="file" name="pdf" accept="application/pdf" />
                                        </div>
                                        <button type="submit" class="btn success">أضف طابعة</button>
                                    </div>
                                </form>
                            </details>

                            <!-- Other assets -->
                            <details class="asset-group">
                                <summary>عهد أخرى بدون مسلسل</summary>
                                <form class="asset-form" data-asset-type="other">
                                    <div class="form-grid">
                                        <div class="form-group">
                                            <label>نوع العهدة</label>
                                            <input name="category" placeholder="Flash Memory / External HDD / WIFI / Mouse / KVM" />
                                        </div>
                                        <div class="form-group">
                                            <label>الوصف</label>
                                            <input name="description" />
                                        </div>
                                        <div class="form-group">
                                            <label>ملاحظات</label>
                                            <input name="notes" />
                                        </div>
                                        <div class="form-group">
                                            <label>صورة استمارة العهدة (PDF)</label>
                                            <input type="file" name="pdf" accept="application/pdf" />
                                        </div>
                                        <button type="submit" class="btn success">أضف عهدة</button>
                                    </div>
                                </form>
                            </details>

                            <div id="assetsMessage" class="message"></div>
                        </div>
                    </div>

                    <!-- Search Screen -->
                    <div id="searchScreen" class="screen hidden">
                        <h2>شاشة البحث</h2>
                        <div class="card inner-card">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="searchNationalId">البحث بالرقم القومي</label>
                                    <input id="searchNationalId" />
                                </div>
                                <div class="form-group">
                                    <label for="searchName">البحث بالاسم</label>
                                    <input id="searchName" />
                                </div>
                                <button id="searchEmployeeButton" class="btn primary">بحث</button>
                            </div>
                        </div>
                        <div id="searchResult" class="card inner-card hidden">
                            <h3>بيانات الموظف</h3>
                            <div id="searchEmployeeInfo"></div>
                            <h3>العهد المسجلة</h3>
                            <div id="searchAssetsInfo"></div>
                        </div>
                    </div>

                    <!-- Stores Screen -->
                    <div id="storesScreen" class="screen hidden">
                        <h2>شاشة المخازن</h2>
                        <form id="storeForm" class="form-grid">
                            <div class="form-group">
                                <label for="storeDeptName">اسم الجهة</label>
                                <input id="storeDeptName" />
                            </div>
                            <div class="form-group">
                                <label for="storeName">المخزن</label>
                                <input id="storeName" />
                            </div>
                            <div class="form-group">
                                <label for="storeAssetType">نوع العهدة</label>
                                <select id="storeAssetType">
                                    <option value="">-- اختر --</option>
                                    <option value="مستديم">مستديم</option>
                                    <option value="مستهلك">مستهلك</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="storePermissionNo">رقم الإذن</label>
                                <input id="storePermissionNo" />
                            </div>
                            <div class="form-group">
                                <label for="storeRequestDate">تاريخ الطلب</label>
                                <input id="storeRequestDate" type="date" />
                            </div>
                            <div class="form-group">
                                <label for="storeRequestType">نوع الطلب</label>
                                <select id="storeRequestType">
                                    <option value="">-- اختر --</option>
                                    <option value="استلام أول">استلام أول</option>
                                    <option value="نقل عهدة">نقل عهدة</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="storeRequesterName">اسم طالب العهدة</label>
                                <input id="storeRequesterName" />
                            </div>
                            <div class="form-group">
                                <label for="storeRequesterNid">الرقم القومي لطالب العهدة</label>
                                <input id="storeRequesterNid" />
                            </div>
                            <div class="form-group">
                                <label for="storeReceiverName">اسم مستلم العهدة</label>
                                <input id="storeReceiverName" />
                            </div>
                            <div class="form-group">
                                <label for="storeReceiverNid">الرقم القومي لمستلم العهدة</label>
                                <input id="storeReceiverNid" />
                            </div>
                            <div class="form-group full-width">
                                <label for="storeDescription">وصف العهدة</label>
                                <textarea id="storeDescription"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label for="storePdf">صورة استمارة العهدة (PDF)</label>
                                <input id="storePdf" type="file" accept="application/pdf" />
                            </div>
                            <button type="submit" class="btn primary">حفظ بيانات العهد المخزنية</button>
                        </form>

                        <div class="table-container">
                            <h3>العهد المخزنية المسجلة</h3>
                            <div class="table-wrapper">
                                <table id="storesTable">
                                    <thead>
                                        <tr>
                                            <th>الجهة</th>
                                            <th>المخزن</th>
                                            <th>نوع العهدة</th>
                                            <th>رقم الإذن</th>
                                            <th>تاريخ الطلب</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <div id="globalMessage" class="message"></div>
                </section>
            </section>
        </main>
    </div>

    <script type="module" src="./main.js"></script>
</body>
</html>
